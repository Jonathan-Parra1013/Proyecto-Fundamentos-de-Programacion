#IMPORTAMOS LIBRERIA PANDAS
import pandas as pd 

BASE_DATOS = pd.read_excel('data/TABLAPREMIER.xlsx', sheet_name='Hoja2')

Nombre_Equipos = BASE_DATOS["Equipo"].unique()
print("Los Equipos que jugaron en la PREMIER LEAGUE (2024-2025) ")
print("En orden alfabetico son: ")
print("-----------------------------------")
for Orden_Equipo in sorted(Nombre_Equipos):
    print("-",Orden_Equipo)

#Solicitaremos al USUARIO el equipo que desea ver sus JUGADORES
def Jugadores_Equipo():
    Solicitud_Equipo = input("Ingrese el nombre del equipo que desea ver sus jugadores: ")
    if Solicitud_Equipo in Nombre_Equipos:

        Jugadores = BASE_DATOS[BASE_DATOS["Equipo"].str.lower() == Solicitud_Equipo.lower()]

        return Jugadores    
    else:
        print("El equipo ingresado no se encuentra en la base de datos, revisa la ortografia e intentalo de nuevo :)")


def Solicitar_Jugadores(Jugadores):
    if len(Jugadores) > 0:
        print("-----------------------------------")
        print("Los JUGADORES del equipo son: ")
        print("- NOMBRE - - - - - POSICION - - - - - DORSAL -")
        for _, Jugador in Jugadores.iterrows():
            print("-", Jugador["Nombre"], "(", Jugador["Posicion"], ")", "#", Jugador["Dorsal"])     
        else:
            print("El equipo ingresado no se encuentra en la base de datos, revisa la ortografia e intentalo nuevamente :)")
            
    Solicitud_Jugador = input("Ingrese el nombre completo del jugador que desea ver sus estadisticas: ")
    if Solicitud_Jugador in BASE_DATOS["Nombre"]:
        Estadisticas_Jugador = BASE_DATOS[BASE_DATOS["Nombre"].str.lower() == Solicitud_Jugador.lower()]

Jugadores_Equipo()
Solicitar_Jugadores(Jugadores_Equipo())